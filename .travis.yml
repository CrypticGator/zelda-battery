language: c
compiler:
  - clang
  - gcc-4.4
  - gcc-4.5
  - gcc-4.6
  - tcc
install:
  - sudo apt-get update
  - sudo apt-cache search gtk2
  - sudo apt-get install gcc-4.4 gcc-4.5 gcc-4.6 chicken-bin tcc cython gtk2
  - sudo chicken-install test
script:
  - autoreconf -i
  - ./configure --without-gtk2
  - make clean
  - make
  - src/zbatt || true
  - src/zbatc || true
  - make clean
  - ./configure --without-gtk2 CFLAGS=-DZB_DEBUG=0
  - make
after_success:
  - make check
